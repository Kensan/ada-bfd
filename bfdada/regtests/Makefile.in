SHELL = @SHELL@

srcdir = @srcdir@
top_srcdir = @top_srcdir@
VPATH = @srcdir@
prefix = @prefix@
exec_prefix = @exec_prefix@

@SET_MAKE@

AUNIT=@AUNITDIR@
AUNITFLAGS=-I$(srcdir)/../../$(AUNIT)/aunit/framework \
	-I$(srcdir)/../../$(AUNIT)/aunit/text_reporter
GNATMAKE=@GNATMAKE@
GNATFLAGS=$(AUNITFLAGS) -I$(srcdir) -g

.SUFFIXES:
.SUFFIXES: .c .o .ads .adb .ali

.PHONY:
.PHONY: clean-generic mostlyclean-generic \
	clean distclean mostlyclean maintainer-clean

GNATLINK=-L.. -L/usr/local/lib -largs -lbfdada -largs -lbfd -lopcodes
GNATMAKEBINDFLAGS =
GNATMAKELDFLAGS =

CD = cd
MKDIR = mkdir -p
RMDIR = rmdir
MV = mv
INSTALL = @INSTALL@
INSTALL_PROGRAM = @INSTALL_PROGRAM@
INSTALL_DATA = @INSTALL_DATA@
INSTALL_SCRIPT = @INSTALL_SCRIPT@

TESTNAMES= \
	harness

## General and public targets

all: $(TESTNAMES)

check:	$(TESTNAMES) force
	./harness

$(TESTNAMES):: force
	$(GNATMAKE) $@ -I$(srcdir) -I$(srcdir)/.. $(GNATFLAGS) $(GNATLINK)

install: all

clean-generic:
	-${RM} *.o *.ali *~ b_*.c b~*.ad? core
	-${RM} $(ARCHIVENAME) $(LIBNAME) $(SONAME)
	-${RM} .\#*

mostlyclean-generic: clean-generic
	-${RM} Makefile

clean: clean-generic

distclean: mostlyclean-generic

mostlyclean: mostlyclean-generic

maintainer-clean: mostlyclean-generic

force:

dist:	distdir

distdir = $(PACKAGE)-$(VERSION)
top_distdir = $(distdir)

DISTFILES=*.ad[bs] Makefile.in

distdir:
	cp -pr $(DISTFILES) $(distdir)/
